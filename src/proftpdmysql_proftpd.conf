# Base server settings
ServerName              "CQ's FTP Server"
ServerType              standalone
DefaultServer           on

DefaultAddress          ${ip_addr}
Port                    ${ftpport}
PassivePorts            65400 65450             # passive ports
TimesGMT                off                     # use local time
MaxInstances            50                      # max proftpd PID
MaxClients              20 "Connection is full" # max clients online
MaxClientsPerHost       10                      # max session for each client

UseIPv6                 off

Umask                   0006 0007

User                    ftp
Group                   ftp

DefaultRoot             ~
AllowOverwrite          on                      # all upload

AllowStoreRestart       on
AllowRetrieveRestart    on

UseReverseDNS           off
IdentLookups            off

TimeoutIdle             600 
TimeoutLogin            300
TimeoutNoTransfer       300
TimeoutStalled          3600

#PathAllowFilter         "[a-zA-Z0-9]"
#PathDenyFilter          "(\.ftp)|(\.htaccess)|(\.me)[a-z]+$"

RequireValidShell       off
CreateHome              on

PidFile                 ${prefix}/var/${prog}.pid
SystemLog               ${prefix}/var/${prog}.log
DisplayLogin            ${sysconfdir}/welcome.msg
DisplayChdir            .message

<Directory ${ftppubdir}>
  TransferRate          STOR 100:1000000      # KB/s:Bytes
  TransferRate          RETR 100:1000000      # KB/s:Bytes
</Directory>

# Bar use of SITE CHMOD by default
<Limit SITE_CHMOD>
  DenyAll
</Limit>

# A basic anonymous configuration, no upload directories.  If you do not
# want anonymous users, simply delete this entire <Anonymous> section.
#<Anonymous ~ftp>
#  User                       ftp
#  Group                      ftp
#
#  # We want clients to be able to login with "anonymous" as well as "ftp"
#  UserAlias                  anonymous ftp
#
#  # Limit the maximum number of anonymous logins
#  MaxClients                 10
#
#  # We want 'welcome.msg' displayed at login, and '.message' displayed
#  # in each newly chdired directory.
#  DisplayLogin               ${sysconfdir}/welcome.msg
#  DisplayChdir               .message
#
#  # Limit WRITE everywhere in the anonymous chroot
#  <Limit WRITE>
#    DenyAll
#  </Limit>
#</Anonymous>

include ${sysconfdir}/mysql.conf
include ${sysconfdir}/quota.conf

